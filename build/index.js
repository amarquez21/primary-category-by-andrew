(()=>{"use strict";const e=window.React,{registerPlugin:t}=wp.plugins,{PluginDocumentSettingPanel:a}=wp.editPost,{SelectControl:r}=wp.components,{useSelect:n,useDispatch:o}=wp.data,{useState:c,useEffect:s}=wp.element;t("primary-category-select-panel",{render:()=>{const[t,n]=c([]);s((()=>{!async function(){const e=await async function(){try{const e=await fetch("/wp-json/wp/v2/categories");if(!e.ok)throw new Error(`Error fetching categories. Status code: ${e.status}`);return(await e.json()).map((e=>e))}catch(e){return console.error(e.message),[]}}();e.unshift({name:"Select",id:0}),n(e)}()}),[]);const o=wp.data.select("core/editor").getEditedPostAttribute("meta").primary_category,[i,l]=c(o);return(0,e.createElement)(a,{name:"primary-category-select-panel",title:"Primary Category"},(0,e.createElement)(r,{label:"Select Primary Category",value:i,options:t.map((e=>({label:e.name,value:e.id}))),onChange:e=>{l(e),wp.data.dispatch("core/editor").editPost({meta:{primary_category:e}})}}))}})})();